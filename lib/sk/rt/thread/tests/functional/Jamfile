# vim: set sw=2:

local tests = 
  ticker 
  scope-logging 
  static-init
  mass-threads
;

local implementation ;
if windows in $(project.PLATFORM_SPECIFICS) {
  implementation = win32 ;
}
else implementation = pthreads ;

use-pthreads $(tests) ;

local test ;
for test in $(tests) {
  local program = $(test) ;

  use-project-libraries $(program) : sk.rt.bundle sk.util sk.rt.thread ;
  use-project-libraries $(program) : sk.rt.thread.$(implementation) ;

  make-program $(program) : $(test).cc ;
}

# vim: ft=jam: sw=2:

local library = sk.rt ;

local objects = 
  Scope.cc
  Environment.cc
  Time.cc
  ProcessInfo.cc
  Locker.cc
;

# if $(PLATFORM_IMPLEMENTATION) = win32 || mks32 in $(project.PLATFORM_SPECIFICS) {
if $(PLATFORM_IMPLEMENTATION) = win32 {
  objects += [ util.make-path win32 foreach_environment_item.cc ] ;
}
else objects += [ util.make-path unix foreach_environment_item.cc ] ;

local INCLUDES = $(INCLUDES) $(system.SRCDIR) ;

make-library $(library) : $(objects) ;

make-subdirs $(PLATFORM_IMPLEMENTATION) ;
add-project-library $(library) : $(library).$(PLATFORM_IMPLEMENTATION) ;

make-subdirs scope logger config bundle tests ;
make-subdirs thread ;
